!function (s) { s.fn.extend({ deleteSmoothProducts: function () { s(document.body).off("click", ".sp-lightbox"), s(document.body).off("click", "#sp-prev"), s(document.body).off("click", "#sp-next"), s(document.body).off("click", ".sp-large a"), s(document.body).off("click", ".sp-noff-touch .sp-zoom"), s(document.body).off("click", ".sp-tb-active a"), s(document.body).off("click", ".sp-thumbs") }, smoothproducts: function () { function t() { s(".sp-selected").removeClass("sp-selected"), s(".sp-lightbox").fadeOut((function () { s(this).remove() })) } function e(s) { return s.match(/url\([\"\']{0,1}(.+)[\"\']{0,1}\)+/i)[1] } s(".sp-loading").hide(), s(".sp-wrap").each((function () { s(this).addClass("sp-touch"); s("a", this).length; var t, e, p = !!s("a.sp-default", this)[0]; s(this).append('<div class="sp-large"></div><div class="sp-thumbs sp-tb-active"></div>'), s("a", this).each((function (a) { var n = s("img", this).attr("src"), i = s(this).attr("href"), r = ""; (0 === a && !p || s(this).hasClass("sp-default")) && (r = ' class="sp-current"', t = i, e = s("img", this)[0].src), s(this).parents(".sp-wrap").find(".sp-thumbs").append('<a href="' + i + '" style="background-image:url(' + n + ')"' + r + "></a>"), s(this).remove() })), s(".sp-large", this).append('<a href="' + t + '" class="sp-current-big"><img src="' + e + '" alt="" /></a>'), s(".sp-wrap").css("display", "inline-block") })), s(document.body).on("click", ".sp-thumbs", (function (s) { s.preventDefault() })), s(document.body).on("mouseover", (function (t) { s(".sp-wrap").removeClass("sp-touch").addClass("sp-non-touch"), t.preventDefault() })), s(document.body).on("touchstart", (function () { s(".sp-wrap").removeClass("sp-non-touch").addClass("sp-touch") })), s(document.body).on("click", ".sp-tb-active a", (function (t) { t.preventDefault(), s(this).parent().find(".sp-current").removeClass(), s(this).addClass("sp-current"), s(this).parents(".sp-wrap").find(".sp-thumbs").removeClass("sp-tb-active"), s(this).parents(".sp-wrap").find(".sp-zoom").remove(); var p = s(this).parents(".sp-wrap").find(".sp-large").height(), a = s(this).parents(".sp-wrap").find(".sp-large").width(); s(this).parents(".sp-wrap").find(".sp-large").css({ overflow: "hidden", height: p + "px", width: a + "px" }), s(this).addClass("sp-current").parents(".sp-wrap").find(".sp-large a").remove(); var n = s(this).parent().find(".sp-current").attr("href"), i = e(s(this).parent().find(".sp-current").css("backgroundImage")); s(this).parents(".sp-wrap").find(".sp-large").html('<a href="' + n + '" class="sp-current-big"><img src="' + i + '"/></a>'), s(this).parents(".sp-wrap").find(".sp-large").hide().fadeIn(250, (function () { var t = s(this).parents(".sp-wrap").find(".sp-large img").height(); s(this).parents(".sp-wrap").find(".sp-large").animate({ height: t }, "fast", (function () { s(".sp-large").css({ height: "auto", width: "auto" }) })), s(this).parents(".sp-wrap").find(".sp-thumbs").addClass("sp-tb-active") })) })), s(document.body).on("mouseenter", ".sp-non-touch .sp-large", (function (t) { var e = s("a", this).attr("href"); s(this).append('<div class="sp-zoom"><img src="' + e + '"/></div>'), s(this).find(".sp-zoom").fadeIn(250), t.preventDefault() })), s(document.body).on("mouseleave", ".sp-non-touch .sp-large", (function (t) { s(this).find(".sp-zoom").fadeOut(250, (function () { s(this).remove() })), t.preventDefault() })), s(document.body).on("click", ".sp-non-touch .sp-zoom", (function (t) { var e = s(this).html(), p = s(this).parents(".sp-wrap").find(".sp-thumbs a").length, a = s(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index() + 1; s(this).parents(".sp-wrap").addClass("sp-selected"), s("body").append("<div class='sp-lightbox' data-currenteq='" + a + "'>" + e + "</div>"), p > 1 && (s(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>"), 1 == a ? s("#sp-prev").css("opacity", ".1") : a == p && s("#sp-next").css("opacity", ".1")), s(".sp-lightbox").fadeIn(), t.preventDefault() })), s(document.body).on("click", ".sp-large a", (function (t) { var e = s(this).attr("href"), p = s(this).parents(".sp-wrap").find(".sp-thumbs a").length, a = s(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index() + 1; s(this).parents(".sp-wrap").addClass("sp-selected"), s("body").append('<div class="sp-lightbox" data-currenteq="' + a + '"><img src="' + e + '"/></div>'), p > 1 && (s(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>"), 1 == a ? s("#sp-prev").css("opacity", ".1") : a == p && s("#sp-next").css("opacity", ".1")), s(".sp-lightbox").fadeIn(), t.preventDefault() })), s(document.body).on("click", "#sp-next", (function (t) { t.stopPropagation(); var p = s(".sp-lightbox").data("currenteq"), a = s(".sp-selected .sp-thumbs a").length; if (p >= a); else { var n = p + 1, i = s(".sp-selected .sp-thumbs").find("a:eq(" + p + ")").attr("href"), r = e(s(".sp-selected .sp-thumbs").find("a:eq(" + p + ")").css("backgroundImage")); p == a - 1 && s("#sp-next").css("opacity", ".1"), s("#sp-prev").css("opacity", "1"), s(".sp-selected .sp-current").removeClass(), s(".sp-selected .sp-thumbs a:eq(" + p + ")").addClass("sp-current"), s(".sp-selected .sp-large").empty().append("<a href=" + i + '><img src="' + r + '"/></a>'), s(".sp-lightbox img").fadeOut(250, (function () { s(this).remove(), s(".sp-lightbox").data("currenteq", n).append('<img src="' + i + '"/>'), s(".sp-lightbox img").hide().fadeIn(250) })) } t.preventDefault() })), s(document.body).on("click", "#sp-prev", (function (t) { var p; if (t.stopPropagation(), (p = (p = s(".sp-lightbox").data("currenteq")) - 1) <= 0); else { 1 == p && s("#sp-prev").css("opacity", ".1"); var a = p - 1, n = s(".sp-selected .sp-thumbs").find("a:eq(" + a + ")").attr("href"), i = e(s(".sp-selected .sp-thumbs").find("a:eq(" + a + ")").css("backgroundImage")); s("#sp-next").css("opacity", "1"), s(".sp-selected .sp-current").removeClass(), s(".sp-selected .sp-thumbs a:eq(" + a + ")").addClass("sp-current"), s(".sp-selected .sp-large").empty().append("<a href=" + n + '><img src="' + i + '"/></a>'), s(".sp-lightbox img").fadeOut(250, (function () { s(this).remove(), s(".sp-lightbox").data("currenteq", p).append('<img src="' + n + '"/>'), s(".sp-lightbox img").hide().fadeIn(250) })) } t.preventDefault() })), s(document.body).on("click", ".sp-lightbox", (function () { t() })), s(document).keydown((function (s) { if (27 == s.keyCode) return t(), !1 })), s(".sp-large").mousemove((function (t) { var e = s(this).width(), p = s(this).height(), a = s(this).offset(), n = s(this).find(".sp-zoom").width(), i = s(this).find(".sp-zoom").height(), r = t.pageX - a.left, o = t.pageY - a.top, c = Math.floor(r * (e - n) / e), d = Math.floor(o * (p - i) / p); s(this).find(".sp-zoom").css({ left: c, top: d }) })) } }) }(jQuery);